/* =======================
   pages/kv
   ======================= */
.main {
	section {
		&.s-1 {
			&:before {
				content: "";
				position: absolute;
				left: calc(50vw - calc(2240px / 2));
				top: 50%;
				width: calc(2240px / 2);
				height: calc(1898px / 2);
				background: url(../img/bg_splash_L@2x.png) left center no-repeat;
				background-size: cover;
			}
			.header {
				display: block;
				margin: 0 auto 60px;
				width: calc(1328px / 2);
				height: calc(348px / 2);
				&:before {
					content: "";
					position: absolute;
					width: 100%;
					height: 100%;
				}
				&:before {
					background: url(../img/title@2x.png) left center no-repeat;
					background-size: cover;
				}
			}
			.box {
				padding: 60px 0;
				.content {
					.layer {
						display: none;
						&-1 {
							.caption {
								p {
									&:nth-child(2) {
										display: inline-block;
										font-weight: bold;
										// text-decoration: underline;
										border-bottom: 1px solid;
									}
								}
							}
							.btn-s_1 {
								&:before {
									background: url(../img/s1_btn_start@2x.png) left center no-repeat;
									background-size: cover;
								}
							}
						}
						&-2 {
							.progress {
								position: relative;
								display: block;
								width: 190px;
								height: 190px;
								margin: 90px auto 100px;
								text-align: center;
								transform: scale(1.7);
								// border-radius: 50%;
								// overflow: hidden;

								&:before {
								// , &:after {
									content: "";
									width: 100%;
									height: 100%;
									display: block;
									// transition: background-image 0.2s ease-in-out;
								}
								// &:after {
								// 	content: attr(data-progress);
								// 	font-size: 6.6em;
								// 	line-height: 180px;
								// 	color: $color-main;
								// 	letter-spacing: -1px;

								// 	position: absolute;
								// 	border-radius: 50%;
								// 	width: 90%;
								// 	height: 90%;
								// 	top: 50%;
								// 	left: 50%;
								// 	transform: translate(-50%, -50%);
								// 	background: $color-box;
								// }
								.counting {
									font-size: 7.7em;
									line-height: 180px;
									color: $color-main;
									letter-spacing: -3px;

									position: absolute;
									border-radius: 50%;
									width: 90%;
									height: 90%;
									top: 50%;
									left: 50%;
									transform: translate(-50%, -50%);
									background: $color-box;
								}

								svg {
									position: absolute;
									top: 0;
									right: 0;
									width: 100%;
									height: 100%;
									transform: rotateY(-180deg) rotateZ(-90deg);
									circle {
										stroke-dashoffset: 0px;
										stroke-linecap: round;
										stroke-width: 10px;
										stroke-dasharray: calc(185 * 3.14);
										fill: none;
										&.c1 {
											stroke: $color-circle;
										}
										&.c2 {
											stroke: $color-main;
											// animation: countdown 10s linear forwards;
										}
									}
								}
								@keyframes countdown {
									from {
										stroke-dashoffset: 0px;
									}
									to {
										stroke-dashoffset: calc(185 * 3.14);
									}
								}
							}
						}
						&-3 {
							.caption {
								margin: 30px auto;
								margin: 30px auto 40px;
								p {
									font-weight: bold;
									&:nth-child(2) {
										color: $color-main;
										border-bottom: 1px solid $color-main;
									}
								}
							}
						}
					}
				}
			}
			&[data-layer="1"] .box .content .layer-1,
			&[data-layer="2"] .box .content .layer-2,
			&[data-layer="3"] .box .content .layer-3 {
				display: block;
			}
			&[data-layer="3"] .box .title {
				margin-bottom: 0;
			}
			&[data-layer="2"] .box .content .layer-2 .progress {
				svg {
					circle {
						&.c2 {
							animation: countdown 11s linear forwards;
						}
					}
				}
			}
		}
	}
}